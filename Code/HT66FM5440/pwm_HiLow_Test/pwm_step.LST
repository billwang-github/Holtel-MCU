"File: pwm_step.c    Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Fri May 31 19:28:02 2019
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 21
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 115
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [21]
  44  0000              mdu0r0 equ [73h]
  45  0000              mdu0r1 equ [74h]
  46  0000              mdu0ctrl equ [75h]
  47  0000              mduwr0 equ [76h]
  48  0000              mduwr1 equ [77h]
  49  0000              mduwr2 equ [78h]
  50  0000              mduwr3 equ [7ah]
  51  0000              mduwr4 equ [7bh]
  52  0000              mduwr5 equ [7ch]
  53  0000              mduwrctrl equ [7dh]
  54  0000              
  55  0000              extern ra:byte
  56  0000              extern rb:byte
  57  0000              extern rc:byte
  58  0000              extern rd:byte
  59  0000              extern re:byte
"File: pwm_step.ASM  Assembler  Version HGASM0202      Page 2

  60  0000              extern rf:byte
  61  0000              extern rg:byte
  62  0000              extern rh:byte
  63  0000              extern _Crom2Prom:near
  64  0000              extern _Crom2PromNext:near
  65  0000              
  66  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  67  0000              @HCCINIT	.section 'data'
  68  0000              @HCCINIT0	.section 'data'
  69  0000              @BITDATASEC	 .section 'data'
  70  0000              @BITDATASEC1	 .section 'data'
  71  0000              
  72  0000              #pragma debug scope 1 1
  73  0000              	extern __DELAY3:near
  74  0000              	extern __DELAYX3:near
  75  0000              	extern __DELAYX6:near
  76  0000              	extern __DELAYY5:near
  77  0000              	extern __DELAYY3:near
  78  0000              	extern _builtin_holtek_delay_2:byte
  79  0000              public _cnt_pwm_period
  80  0000              @HCCINIT	.section 'data'

  24  0000              #line 24 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  24  0000              @HCCINIT_cnt_pwm_period .section 'data'
  24  0000              _cnt_pwm_period label byte
  24  0000              #pragma debug variable 12 1 _cnt_pwm_period "cnt_pwm_period"
  24  0000              	db 0
  24  0000              @ROMDATA_BASE .section inpage 'code'
  24  0000              	db 0
  24  0001              @HCCINIT_cnt_pwm_period .section 'data'
  24  0001              	db 0
  24  0001              @ROMDATA_BASE .section inpage 'code'
  24  0001              	db 0
  24  0002              @HCCINIT_cnt_pwm_period .section 'data'
  25  0002              #line 25 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  25  0002              public _pwm_period
  25  0000              @HCCINIT0_pwm_period .section 'data'
  25  0000  0002[       _pwm_period	db 2 dup(0)
            00
            ]
  25  0002              #pragma debug variable 12 1 _pwm_period "pwm_period"
  25  0002              
  25  0000              @HCCINIT .section 'data'
  26  0000              #line 26 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  26  0000              public _pwm_dly0
  26  0000              @HCCINIT0_pwm_dly0 .section 'data'
  26  0000  0002[       _pwm_dly0	db 2 dup(0)
            00
            ]
  26  0002              #pragma debug variable 12 1 _pwm_dly0 "pwm_dly0"
  26  0002              
  26  0000              @HCCINIT .section 'data'
  26  0000              #line 26 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  26  0000              public _pwm_dly1
  26  0000              @HCCINIT0_pwm_dly1 .section 'data'
  26  0000  0002[       _pwm_dly1	db 2 dup(0)
            00
            ]
  26  0002              #pragma debug variable 12 1 _pwm_dly1 "pwm_dly1"
  26  0002              
"File: pwm_step.c    Assembler  Version HGASM0202      Page 3

  26  0000              @HCCINIT .section 'data'
  26  0000              public _key_old
  27  0000              #line 27 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  27  0000              @HCCINIT_key_old .section 'data'
  27  0000              _key_old label byte
  27  0000              #pragma debug variable 8 1 _key_old "key_old"
  27  0000              	db 0
  27  0001              @ROMDATA_BASE .section inpage 'code'
  27  0001              	db 0
  27  0001              @HCCINIT_key_old .section 'data'
  27  0001              public _key_new
  27  0001              #line 27 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  27  0000              @HCCINIT_key_new .section 'data'
  27  0000              _key_new label byte
  27  0000              #pragma debug variable 8 1 _key_new "key_new"
  27  0000              	db 0
  27  0002              @ROMDATA_BASE .section inpage 'code'
  27  0002              	db 0
  27  0001              @HCCINIT_key_new .section 'data'
  27  0001              public _cnt_debounce
  28  0001              #line 28 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  28  0000              @HCCINIT_cnt_debounce .section 'data'
  28  0000              _cnt_debounce label byte
  28  0000              #pragma debug variable 12 1 _cnt_debounce "cnt_debounce"
  28  0000              	db 0
  28  0002              @ROMDATA_BASE .section inpage 'code'
  28  0002              	db 0
  28  0001              @HCCINIT_cnt_debounce .section 'data'
  28  0001              	db 0
  28  0003              @ROMDATA_BASE .section inpage 'code'
  28  0003              	db 0
  28  0002              @HCCINIT_cnt_debounce .section 'data'
  28  0002              public _bkey_change
  29  0002              #line 29 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  29  0000              @BITDATASEC .section 'data'
  29  0000  00          _bkey_change	dbit 0
  29  0001              #pragma debug variable 2 1 _bkey_change "bkey_change"
  29  0001              ___intc0 equ [21]
  29  0001              ___pa equ [35]
  29  0001              public _main
  29  0001              #pragma debug scope 2 1
  38  0001              #line 38 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  38  0001              IFDEF WITH_DEFAULT_STARTUP
  38  0001              extern _main_initial0:near
  38  0001              extern _main_startup:near
  38  0001              ENDIF
  38  0001              
  38  0001              ROMBANK 0 @start
  38  0000              @start .section com_l 'code'
  38  0000              _main_startup1:
  38  0000              @start .section com_e 'code'
  38  0000  2800     R  	jmp _main
  38  0001              
  38  0000              _main .section 'code'
  38  0000              _main proc
  40  0000              #line 40 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  40  0000  1F00     R  	clr _PWM_PD_Init_2[2]
  40  0001  1F00     R  	clr _PWM_PD_Init_2[3]
  40  0002  0F64        	mov a,100
  40  0003  0080     R  	mov _PWM_PD_Init_2[0],a
"File: pwm_step.c    Assembler  Version HGASM0202      Page 4

  40  0004  1F00     R  	clr _PWM_PD_Init_2[1]
  40  0005  2000     R  	call _PWM_PD_Init
  41  0006              #line 41 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  41  0006  2000     R  	call _IO_Init
  43  0007              #line 43 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  43  0007  2000     R  	call _TM1_Init
  44  0008              #line 44 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  44  0008  2000     R  	call _TimeBase_Init
  46  0009              #line 46 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  46  0009  3015        	set [21].0
  48  000A              #line 48 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  48  000A  3000     R  	set _bkey_change
  48  000B              _L6:
  51  000B              #line 51 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  51  000B  1F00     E  	clr ra
  51  000C  3C00     R  	sz _bkey_change
  51  000D  3000     E  	set ra.0
  51  000E  3800     E  	snz ra.0
  51  000F  2800     R  	jmp _L2
  53  0010              #line 53 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  53  0010  0723        	mov a,[35]
  53  0011  0080     E  	mov ra,a
  53  0012  0F08        	mov a,8
  53  0013  0680     E  	andm a,ra
  53  0014  1080     E  	sz ra
  53  0015  2800     R  	jmp _L3
  55  0016              #line 55 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  55  0016  3400     R  	clr _bkey_change
  56  0017              #line 56 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  56  0017  0723        	mov a,[35]
  56  0018  0080     E  	mov ra,a
  56  0019  0F20        	mov a,32
  56  001A  0680     E  	andm a,ra
  56  001B  1E00     E  	snz ra
  56  001C  2800     R  	jmp _L4
  57  001D              #line 57 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  57  001D  0F28        	mov a,40
  57  001E  0080     R  	mov _PWM_PD_Init_2[2],a
  57  001F  1F00     R  	clr _PWM_PD_Init_2[3]
  57  0020  0F64        	mov a,100
  57  0021  0080     R  	mov _PWM_PD_Init_2[0],a
  57  0022  1F00     R  	clr _PWM_PD_Init_2[1]
  57  0023  2000     R  	call _PWM_PD_Init
  57  0024  2800     R  	jmp _L2
  57  0025              _L4:
  59  0025              #line 59 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  59  0025  0F14        	mov a,20
  59  0026  0080     R  	mov _PWM_PD_Init_2[2],a
  59  0027  1F00     R  	clr _PWM_PD_Init_2[3]
  59  0028  0F64        	mov a,100
  59  0029  0080     R  	mov _PWM_PD_Init_2[0],a
  59  002A  1F00     R  	clr _PWM_PD_Init_2[1]
  59  002B  2000     R  	call _PWM_PD_Init
  59  002C  2800     R  	jmp _L2
  59  002D              _L3:
  62  002D              #line 62 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  62  002D  1F00     R  	clr _PWM_PD_Init_2[2]
  62  002E  1F00     R  	clr _PWM_PD_Init_2[3]
  62  002F  0F64        	mov a,100
  62  0030  0080     R  	mov _PWM_PD_Init_2[0],a
"File: pwm_step.c    Assembler  Version HGASM0202      Page 5

  62  0031  1F00     R  	clr _PWM_PD_Init_2[1]
  62  0032  2000     R  	call _PWM_PD_Init
  62  0033              _L2:
  65  0033              #line 65 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  65  0033              ;# 65 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c" 1
  65  0033  0001        	clr wdt
  66  0034              #line 66 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  66  0034  2800     R  	jmp _L6
  66  0035  2800     R  	jmp $
  66  0036              _main endp
  66  0036              
  66  0036              @dummy endp
  66  0036              
  66  0036              #line 66 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  66  0036              #pragma debug scope 1 1
  66  0036              public _PWM_PD_Init
  66  0036              #pragma debug scope 3 1
  71  0036              #line 71 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  71  0000              _PWM_PD_Init .section 'code'
  71  0000              _PWM_PD_Init proc
  71  0000              public _PWM_PD_Init_2
  71  0000  0004[           local _PWM_PD_Init_2 db 4 dup(?)	; 4,0
            00
            ]
  71  0004              #pragma debug variable 12 3 _PWM_PD_Init_2+0 "period"
  71  0004              #pragma debug variable 12 3 _PWM_PD_Init_2+2 "duty"
  72  0004              #line 72 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  72  0000  0700     R  	mov a,_PWM_PD_Init_2[0]
  72  0001  0080     R  	mov _pwm_period[0],a
  72  0002  0700     R  	mov a,_PWM_PD_Init_2[1]
  72  0003  0080     R  	mov _pwm_period[1],a
  73  0004              #line 73 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  73  0004  1F00     R  	clr _pwm_dly0[0]
  73  0005  1F00     R  	clr _pwm_dly0[1]
  73  0006  0700     R  	mov a,_PWM_PD_Init_2[2]
  73  0007  0080     R  	mov _pwm_dly1[0],a
  73  0008  0700     R  	mov a,_PWM_PD_Init_2[3]
  73  0009  0080     R  	mov _pwm_dly1[1],a
  73  000A  0003        	ret
  73  000B              _PWM_PD_Init endp
  73  000B              #line 73 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  73  000B              #pragma debug scope 1 1
  73  000B              ___pb equ [38]
  73  000B              ___pbc equ [39]
  73  000B              ___pdps0 equ [382]
  73  000B              ___papu equ [34]
  73  000B              ___pac equ [36]
  73  000B              public _IO_Init
  73  000B              #pragma debug scope 4 1
  78  000B              #line 78 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  78  0000              _IO_Init .section 'code'
  78  0000              _IO_Init proc
  80  0000              #line 80 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  80  0000  3426        	clr [38].0
  81  0001              #line 81 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  81  0001  3427        	clr [39].0
  82  0002              #line 82 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  82  0002  34A6        	clr [38].1
  83  0003              #line 83 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  83  0003  34A7        	clr [39].1
"File: pwm_step.c    Assembler  Version HGASM0202      Page 6

  84  0004              #line 84 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  84  0004  3526        	clr [38].2
  85  0005              #line 85 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  85  0005  3527        	clr [39].2
  88  0006              #line 88 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  88  0006  877E 0001   	lmov a,[382]
  88  0008  0080     E  	mov ra,a
  88  0009  0FC0        	mov a,192
  88  000A  0680     E  	andm a,ra
  88  000B  0700     E  	mov a,ra
  88  000C  80FE 0001   	lmov [382],a
  90  000E              #line 90 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  90  000E  31A3        	set [35].3
  90  000F  3223        	set [35].4
  90  0010  32A3        	set [35].5
  91  0011              #line 91 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  91  0011  31A2        	set [34].3
  91  0012  3222        	set [34].4
  91  0013  32A2        	set [34].5
  92  0014              #line 92 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  92  0014  31A4        	set [36].3
  92  0015  3224        	set [36].4
  92  0016  32A4        	set [36].5
  92  0017  0003        	ret
  92  0018              _IO_Init endp
  92  0018              #line 92 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  92  0018              #pragma debug scope 1 1
  92  0018              ___ptm1c0 equ [327]
  92  0018              ___ptm1c1 equ [328]
  92  0018              ___ptm1al equ [331]
  92  0018              ___ptm1ah equ [332]
  92  0018              ___intc2 equ [23]
  92  0018              ___mfi5 equ [30]
  92  0018              public _TM1_Init
  92  0018              #pragma debug scope 5 1
  96  0018              #line 96 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  96  0000              _TM1_Init .section 'code'
  96  0000              _TM1_Init proc
  97  0000              #line 97 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  97  0000  0F20        	mov a,32
  97  0001  80C7 0001   	lmov [327],a
  98  0003              #line 98 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  98  0003  0FC1        	mov a,193
  98  0004  80C8 0001   	lmov [328],a
 100  0006              #line 100 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 100  0006  0F0A        	mov a,10
 100  0007  80CB 0001   	lmov [331],a
 101  0009              #line 101 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 101  0009  9F4C 0001   	lclr [332]
 103  000B              #line 103 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 103  000B  3797        	clr [23].7
 104  000C              #line 104 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 104  000C  369E        	clr [30].5
 105  000D              #line 105 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 105  000D  309E        	set [30].1
 106  000E              #line 106 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 106  000E  3197        	set [23].3
 108  000F              #line 108 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 108  000F  B5C7 0001   	lclr [327].3
 109  0011              #line 109 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
"File: pwm_step.c    Assembler  Version HGASM0202      Page 7

 109  0011  B1C7 0001   	lset [327].3
 109  0013  0003        	ret
 109  0014              _TM1_Init endp
 109  0014              #line 109 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 109  0014              #pragma debug scope 1 1
 109  0014              public _ISR_TM1
 109  0014              #pragma debug scope 6 1
 113  0014              #line 113 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 113  0000              @ISR_TM1_code .section at 44 'code'
 113  0000              ifdef INTERRUPT_DELAY
 113  0000  0000        	nop
 113  0001              endif
 113  0001  0080     E  	mov r1,a
 113  0002  070A        	mov a,status
 113  0003              ifndef INTERRUPT_DELAY
 113  0003              	mov r2,a
 113  0003              endif
 113  0003  2800     R  	jmp _ISR_TM1
 113  0004              #pragma debug scope 1 1
 113  0004              @dummy44 endp
 113  0004              #pragma debug scope 7 1
 113  0000              _ISR_TM1 .section 'code'
 113  0000              _ISR_TM1 proc
 113  0000              ifdef INTERRUPT_DELAY
 113  0000  0080     E  	mov r2,a
 113  0001              endif
 114  0001              #line 114 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 114  0001              ;# 114 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c" 1
 114  0001  0001        	clr wdt
 115  0002              #line 115 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 115  0002  0700     R  	mov a,_cnt_pwm_period[0]
 115  0003  0080     E  	mov ra,a
 115  0004  0700     R  	mov a,_cnt_pwm_period[1]
 115  0005  0080     E  	mov rb,a
 115  0006  1480     E  	inc ra
 115  0007  3D0A        	sz z
 115  0008  1480     E  	inc rb
 115  0009  0700     E  	mov a,ra
 115  000A  0080     R  	mov _cnt_pwm_period[0],a
 115  000B  0700     E  	mov a,rb
 115  000C  0080     R  	mov _cnt_pwm_period[1],a
 115  000D  0700     R  	mov a,_pwm_period[0]
 115  000E  0080     E  	mov rc,a
 115  000F  0700     R  	mov a,_pwm_period[1]
 115  0010  0080     E  	mov rd,a
 115  0011  0700     E  	mov a,ra
 115  0012  0200     E  	sub a,rc
 115  0013  0700     E  	mov a,rb
 115  0014  1200     E  	sbc a,rd
 115  0015  380A        	snz c
 115  0016  2800     R  	jmp _L11
 116  0017              #line 116 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 116  0017  1F00     R  	clr _cnt_pwm_period[0]
 116  0018  1F00     R  	clr _cnt_pwm_period[1]
 116  0019              _L11:
 118  0019              #line 118 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 118  0019  0700     R  	mov a,_cnt_pwm_period[0]
 118  001A  0080     E  	mov rc,a
 118  001B  0700     R  	mov a,_cnt_pwm_period[1]
 118  001C  0080     E  	mov rd,a
"File: pwm_step.c    Assembler  Version HGASM0202      Page 8

 118  001D  0700     R  	mov a,_pwm_dly0[0]
 118  001E  0080     E  	mov ra,a
 118  001F  0700     R  	mov a,_pwm_dly0[1]
 118  0020  0080     E  	mov rb,a
 118  0021  0700     E  	mov a,rc
 118  0022  0200     E  	sub a,ra
 118  0023  0700     E  	mov a,rd
 118  0024  1200     E  	sbc a,rb
 118  0025  380A        	snz c
 118  0026  2800     R  	jmp _L12
 118  0027  0700     R  	mov a,_cnt_pwm_period[0]
 118  0028  0080     E  	mov rc,a
 118  0029  0700     R  	mov a,_cnt_pwm_period[1]
 118  002A  0080     E  	mov rd,a
 118  002B  0700     R  	mov a,_pwm_dly1[0]
 118  002C  0080     E  	mov ra,a
 118  002D  0700     R  	mov a,_pwm_dly1[1]
 118  002E  0080     E  	mov rb,a
 118  002F  0700     E  	mov a,rc
 118  0030  0200     E  	sub a,ra
 118  0031  0700     E  	mov a,rd
 118  0032  1200     E  	sbc a,rb
 118  0033  3C0A        	sz c
 118  0034  2800     R  	jmp _L12
 119  0035              #line 119 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 119  0035  3026        	set [38].0
 119  0036  2800     R  	jmp _L13
 119  0037              _L12:
 121  0037              #line 121 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 121  0037  3426        	clr [38].0
 121  0038              _L13:
 123  0038              #line 123 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 123  0038  3797        	clr [23].7
 124  0039              #line 124 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 124  0039  369E        	clr [30].5
 124  003A  0700     E  	mov a,r2
 124  003B  008A        	mov status,a
 124  003C  0700     E  	mov a,r1
 124  003D  0004        	reti
 124  003E              _ISR_TM1 endp
 124  003E              
 124  003E              #line 124 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 124  003E              #pragma debug scope 1 1
 124  003E              ___tbc equ [275]
 124  003E              ___mfi7 equ [32]
 124  003E              ___intc3 equ [24]
 124  003E              public _TimeBase_Init
 124  003E              #pragma debug scope 8 1
 128  003E              #line 128 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 128  0000              _TimeBase_Init .section 'code'
 128  0000              _TimeBase_Init proc
 129  0000              #line 129 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 129  0000  0FC0        	mov a,192
 129  0001  8093 0001   	lmov [275],a
 130  0003              #line 130 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 130  0003  31A0        	set [32].3
 131  0004              #line 131 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 131  0004  37A0        	clr [32].7
 132  0005              #line 132 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 132  0005  3198        	set [24].3
"File: pwm_step.c    Assembler  Version HGASM0202      Page 9

 133  0006              #line 133 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 133  0006  3798        	clr [24].7
 133  0007  0003        	ret
 133  0008              _TimeBase_Init endp
 133  0008              #line 133 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 133  0008              #pragma debug scope 1 1
 133  0008              public _ISR_TimeBase
 133  0008              #pragma debug scope 9 1
 137  0008              #line 137 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 137  0000              @ISR_TimeBase_code .section at 60 'code'
 137  0000              ifdef INTERRUPT_DELAY
 137  0000  0000        	nop
 137  0001              endif
 137  0001  0080     E  	mov r1,a
 137  0002  070A        	mov a,status
 137  0003              ifndef INTERRUPT_DELAY
 137  0003              	mov r2,a
 137  0003              endif
 137  0003  2800     R  	jmp _ISR_TimeBase
 137  0004              #pragma debug scope 1 1
 137  0004              @dummy60 endp
 137  0004              #pragma debug scope 10 1
 137  0000              _ISR_TimeBase .section 'code'
 137  0000              _ISR_TimeBase proc
 137  0000              ifdef INTERRUPT_DELAY
 137  0000  0080     E  	mov r2,a
 137  0001              endif
 138  0001              #line 138 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 138  0001              ;# 138 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c" 1
 138  0001  0001        	clr wdt
 139  0002              #line 139 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 139  0002  0700     R  	mov a,_cnt_debounce[0]
 139  0003  0080     E  	mov ra,a
 139  0004  0700     R  	mov a,_cnt_debounce[1]
 139  0005  0080     E  	mov rb,a
 139  0006  1480     E  	inc ra
 139  0007  3D0A        	sz z
 139  0008  1480     E  	inc rb
 139  0009  0700     E  	mov a,ra
 139  000A  0080     R  	mov _cnt_debounce[0],a
 139  000B  0700     E  	mov a,rb
 139  000C  0080     R  	mov _cnt_debounce[1],a
 139  000D  0F31        	mov a,49
 139  000E  0200     E  	sub a,ra
 139  000F  0F00        	mov a,0
 139  0010  1200     E  	sbc a,rb
 139  0011  3C0A        	sz c
 139  0012  2800     R  	jmp _L16
 141  0013              #line 141 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 141  0013  1F00     R  	clr _cnt_debounce[0]
 141  0014  1F00     R  	clr _cnt_debounce[1]
 142  0015              #line 142 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 142  0015  0700     R  	mov a,_key_new[0]
 142  0016  0080     E  	mov ra,a
 142  0017  0700     E  	mov a,ra
 142  0018  0080     R  	mov _key_old[0],a
 143  0019              #line 143 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 143  0019  0723        	mov a,[35]
 143  001A  0080     E  	mov ra,a
 143  001B  1100     E  	swapa ra
"File: pwm_step.c    Assembler  Version HGASM0202      Page 10

 143  001C  1985        	rr acc
 143  001D  0E07        	and a,07h
 143  001E  0080     E  	mov ra,a
 143  001F  0F01        	mov a,1
 143  0020  0680     E  	andm a,ra
 143  0021  1F00     E  	clr rb
 143  0022  340A        	clr c
 143  0023  1A80     E  	rlc ra
 143  0024  1A80     E  	rlc rb
 143  0025  0700     E  	mov a,ra
 143  0026  0080     E  	mov rb,a
 143  0027  0723        	mov a,[35]
 143  0028  0080     E  	mov ra,a
 143  0029  1100     E  	swapa ra
 143  002A  1885        	rl acc
 143  002B  0E1F        	and a,1fh
 143  002C  0080     E  	mov ra,a
 143  002D  0F01        	mov a,1
 143  002E  0680     E  	andm a,ra
 143  002F  0700     E  	mov a,rb
 143  0030  0580     E  	orm a,ra
 143  0031  0700     E  	mov a,ra
 143  0032  0080     R  	mov _key_new[0],a
 144  0033              #line 144 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 144  0033  0700     R  	mov a,_key_old[0]
 144  0034  0080     E  	mov rb,a
 144  0035  0700     R  	mov a,_key_new[0]
 144  0036  0080     E  	mov ra,a
 144  0037  0700     E  	mov a,rb
 144  0038  0200     E  	sub a,ra
 144  0039  3D0A        	sz z
 144  003A  2800     R  	jmp _L16
 145  003B              #line 145 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 145  003B  3000     R  	set _bkey_change
 145  003C              _L16:
 148  003C              #line 148 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 148  003C  3798        	clr [24].7
 149  003D              #line 149 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 149  003D  37A0        	clr [32].7
 149  003E  0700     E  	mov a,r2
 149  003F  008A        	mov status,a
 149  0040  0700     E  	mov a,r1
 149  0041  0004        	reti
 149  0042              _ISR_TimeBase endp
 149  0042              
 149  0042              #line 149 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 149  0042              #pragma debug scope 1 1
 149  0042              ___opoms equ [366]
 149  0042              ___opa0cal equ [368]
 149  0042              ___opcm equ [367]
 149  0042              ___cmpc equ [114]
 149  0042              ___mptc1 equ [75]
 149  0042              ___ocps equ [68]
 149  0042              public _Comparator_Init
 149  0042              #pragma debug scope 11 1
 159  0042              #line 159 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 159  0000              _Comparator_Init .section 'code'
 159  0000              _Comparator_Init proc
 160  0000              #line 160 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 160  0000  0F43        	mov a,67
"File: pwm_step.c    Assembler  Version HGASM0202      Page 11

 160  0001  80EE 0001   	lmov [366],a
 161  0003              #line 161 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 161  0003  0F30        	mov a,48
 161  0004  80F0 0001   	lmov [368],a
 163  0006              #line 163 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 163  0006  0F1E        	mov a,30
 163  0007  80EF 0001   	lmov [367],a
 164  0009              #line 164 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 164  0009  3072        	set [114].0
 165  000A              #line 165 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 165  000A  31CB        	set [75].3
 166  000B              #line 166 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 166  000B  344B        	clr [75].0
 167  000C              #line 167 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 167  000C  304B        	set [75].0
 168  000D              #line 168 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 168  000D  0F2A        	mov a,42
 168  000E  00C4        	mov [68],a
 169  000F              #line 169 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 169  000F  3115        	set [21].2
 170  0010              #line 170 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 170  0010  3695        	clr [21].5
 170  0011  0003        	ret
 170  0012              _Comparator_Init endp
 170  0012              #line 170 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 170  0012              #pragma debug scope 1 1
 170  0012              public _ISR_OCP
 170  0012              #pragma debug scope 12 1
 178  0012              #line 178 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 178  0000              @ISR_OCP_code .section at 8 'code'
 178  0000              ifdef INTERRUPT_DELAY
 178  0000  0000        	nop
 178  0001              endif
 178  0001  0080     E  	mov r1,a
 178  0002  070A        	mov a,status
 178  0003              ifndef INTERRUPT_DELAY
 178  0003              	mov r2,a
 178  0003              endif
 178  0003  2800     R  	jmp _ISR_OCP
 178  0004              #pragma debug scope 1 1
 178  0004              @dummy8 endp
 178  0004              #pragma debug scope 13 1
 178  0000              _ISR_OCP .section 'code'
 178  0000              _ISR_OCP proc
 178  0000              ifdef INTERRUPT_DELAY
 178  0000  0080     E  	mov r2,a
 178  0001              endif
 179  0001              #line 179 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 179  0001  3695        	clr [21].5
 179  0002  0700     E  	mov a,r2
 179  0003  008A        	mov status,a
 179  0004  0700     E  	mov a,r1
 179  0005  0004        	reti
 179  0006              _ISR_OCP endp
 179  0006              
 179  0006              #line 179 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
 179  0006              #pragma debug scope 1 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
"File: pwm_step.c    Assembler  Version HGASM0202      Page 12

 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 43 1 ___intc0 "__intc0" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 45 1 ___intc2 "__intc2" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 47 1 ___intc3 "__intc3" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 49 1 ___mfi5 "__mfi5" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 51 1 ___mfi7 "__mfi7" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 53 1 ___papu "__papu" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 55 1 ___pa "__pa" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 57 1 ___pac "__pac" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 59 1 ___pb "__pb" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 61 1 ___pbc "__pbc" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 63 1 ___ocps "__ocps" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 65 1 ___mptc1 "__mptc1" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
"File: pwm_step.c    Assembler  Version HGASM0202      Page 13

 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 67 1 ___cmpc "__cmpc" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 69 1 ___tbc "__tbc" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 71 1 ___ptm1c0 "__ptm1c0" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 73 1 ___ptm1c1 "__ptm1c1" 1
 179  0006              #pragma debug variable 8 1 ___ptm1al "__ptm1al" 1
 179  0006              #pragma debug variable 8 1 ___ptm1ah "__ptm1ah" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 75 1 ___opoms "__opoms" 1
 179  0006              #pragma debug variable 8 1 ___opcm "__opcm" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 77 1 ___opa0cal "__opa0cal" 1
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug struct_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug union_end
 179  0006              #pragma debug variable 79 1 ___pdps0 "__pdps0" 1
 179  0006              extern r1:byte
 179  0006              extern r2:byte
  38  0006              #line 38 "D:\WORK\Project\Github\Holtel-MCU\Code\HT66FM5440\pwm_HiLow_Test\pwm_step.c"
  38  0000              @code .section at 0 'code'
  38  0000  2800     R  	jmp _main_startup1
  38  0001              
  38  0001              
  38  0001              ; 
  38  0001              ; Generated by holtek-gcc v3.19, Fri May 31 19:28:02 2019
  38  0001              ; Rebuild 115
  38  0001              ; end of file


        0 Errors, 0