"File: Init.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.12, Thu Jul 24 14:21:28 2014
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ; use 'tabrdc' instread of 'tabrd'
  13  0000              ;       
  14  0000              
  15  0000              #pragma translator "holtek-gcc 4.6.4" "3.12" "build 20130711"
  16  0000              ; Rebuild 68
  17  0000              
  18  0000              ir equ [2]
  19  0000              mp equ [3]
  20  0000              sbp equ [1]
  21  0000              acc equ [5]
  22  0000              bp equ [4]
  23  0000              tblp equ [7]
  24  0000              tbhp equ [9]
  25  0000              status equ [10]
  26  0000              c equ [10].0
  27  0000              ac equ [10].1
  28  0000              z equ [10].2
  29  0000              ov equ [10].3
  30  0000              intc equ [11]
  31  0000              
  32  0000              extern ra:byte
  33  0000              extern rb:byte
  34  0000              extern rc:byte
  35  0000              extern rd:byte
  36  0000              extern re:byte
  37  0000              extern rf:byte
  38  0000              extern rg:byte
  39  0000              extern rh:byte
  40  0000              extern _Crom2Prom:near
  41  0000              extern _Crom2PromNext:near
  42  0000              
  43  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  44  0000              @HCCINIT	.section 'data'
  45  0000              @HCCINIT0	.section 'data'
  46  0000              
  47  0000              #pragma debug scope 1 1
  48  0000              public _ClockInit
  49  0000              #pragma debug scope 2 1

  15  0000              #line 15 "F:\Project\Code\UARTExampleCode\Init.c"
  15  0000              _ClockInit .section 'code'
  15  0000              _ClockInit proc
  16  0000              #line 16 "F:\Project\Code\UARTExampleCode\Init.c"
  16  0000  0F01        	mov a,1
  16  0001  008B        	mov [11],a
  16  0002              _L3:
  17  0002              #line 17 "F:\Project\Code\UARTExampleCode\Init.c"
  17  0002  390B        	snz [11].2
"File: Init.c        Assembler  Version HGASM0202      Page 2

  17  0003  2800     R  	jmp _L3
  17  0004  0003        	ret
  17  0005              _ClockInit endp
  17  0005              #line 17 "F:\Project\Code\UARTExampleCode\Init.c"
  17  0005              #pragma debug scope 1 1
  17  0005              public _GPIOInit
  17  0005              #pragma debug scope 3 1
  21  0005              #line 21 "F:\Project\Code\UARTExampleCode\Init.c"
  21  0000              _GPIOInit .section 'code'
  21  0000              _GPIOInit proc
  22  0000              #line 22 "F:\Project\Code\UARTExampleCode\Init.c"
  22  0000  371D        	clr [29].6
  23  0001              #line 23 "F:\Project\Code\UARTExampleCode\Init.c"
  23  0001  371F        	clr [31].6
  24  0002              #line 24 "F:\Project\Code\UARTExampleCode\Init.c"
  24  0002  331E        	set [30].6
  26  0003              #line 26 "F:\Project\Code\UARTExampleCode\Init.c"
  26  0003  319D        	set [29].3
  27  0004              #line 27 "F:\Project\Code\UARTExampleCode\Init.c"
  27  0004  321D        	set [29].4
  28  0005              #line 28 "F:\Project\Code\UARTExampleCode\Init.c"
  28  0005  329D        	set [29].5
  28  0006  0003        	ret
  28  0007              _GPIOInit endp
  28  0007              #line 28 "F:\Project\Code\UARTExampleCode\Init.c"
  28  0007              #pragma debug scope 1 1
  28  0007              public _WatchDogInit
  28  0007              #pragma debug scope 4 1
  33  0007              #line 33 "F:\Project\Code\UARTExampleCode\Init.c"
  33  0000              _WatchDogInit .section 'code'
  33  0000              _WatchDogInit proc
  34  0000              #line 34 "F:\Project\Code\UARTExampleCode\Init.c"
  34  0000  0F57        	mov a,87
  34  0001  008E        	mov [14],a
  34  0002  0003        	ret
  34  0003              _WatchDogInit endp
  34  0003              #line 34 "F:\Project\Code\UARTExampleCode\Init.c"
  34  0003              #pragma debug scope 1 1
  34  0003              public _UartInit
  34  0003              #pragma debug scope 5 1
  39  0003              #line 39 "F:\Project\Code\UARTExampleCode\Init.c"
  39  0000              _UartInit .section 'code'
  39  0000              _UartInit proc
  40  0000              #line 40 "F:\Project\Code\UARTExampleCode\Init.c"
  40  0000  333C        	set [60].6
  41  0001              #line 41 "F:\Project\Code\UARTExampleCode\Init.c"
  41  0001  37BC        	clr [60].7
  42  0002              #line 42 "F:\Project\Code\UARTExampleCode\Init.c"
  42  0002  303D        	set [61].0
  43  0003              #line 43 "F:\Project\Code\UARTExampleCode\Init.c"
  43  0003  34BD        	clr [61].1
  45  0004              #line 45 "F:\Project\Code\UARTExampleCode\Init.c"
  45  0004  0F80        	mov a,128
  45  0005  00F6        	mov [118],a
  46  0006              #line 46 "F:\Project\Code\UARTExampleCode\Init.c"
  46  0006  0FE4        	mov a,228
  46  0007  00F7        	mov [119],a
  47  0008              #line 47 "F:\Project\Code\UARTExampleCode\Init.c"
  47  0008  0F81        	mov a,129
  47  0009  00F8        	mov [120],a
"File: Init.c        Assembler  Version HGASM0202      Page 3

  49  000A              #line 49 "F:\Project\Code\UARTExampleCode\Init.c"
  49  000A  3694        	clr [20].5
  50  000B              #line 50 "F:\Project\Code\UARTExampleCode\Init.c"
  50  000B  3094        	set [20].1
  50  000C  0003        	ret
  50  000D              _UartInit endp
  50  000D              #line 50 "F:\Project\Code\UARTExampleCode\Init.c"
  50  000D              #pragma debug scope 1 1
  50  000D              public _SystemInit
  50  000D              #pragma debug scope 6 1
   6  000D              #line 6 "F:\Project\Code\UARTExampleCode\Init.c"
   6  0000              _SystemInit .section 'code'
   6  0000              _SystemInit proc
   7  0000              #line 7 "F:\Project\Code\UARTExampleCode\Init.c"
   7  0000  2000     R  	call _ClockInit
   8  0001              #line 8 "F:\Project\Code\UARTExampleCode\Init.c"
   8  0001  2000     R  	call _GPIOInit
   9  0002              #line 9 "F:\Project\Code\UARTExampleCode\Init.c"
   9  0002  2000     R  	call _UartInit
   9  0003              #pragma debug scope 7 6
   9  0003              ;begin block, line: 9.-1
   9  0003              #pragma debug scope 8 7
   9  0003              ;begin block, line: 9.-1
  34  0003              #line 34 "F:\Project\Code\UARTExampleCode\Init.c"
  34  0003  0F57        	mov a,87
  34  0004  008E        	mov [14],a
  34  0005              #pragma debug scope 7 6
  34  0005              ;end block, line: 34
  34  0005              #pragma debug scope 6 1
  34  0005              ;end block, line: 34
  34  0005  0003        	ret
  34  0006              _SystemInit endp
  34  0006              #line 34 "F:\Project\Code\UARTExampleCode\Init.c"
  34  0006              #pragma debug scope 1 1
  34  0006              public _UartHand
  34  0006              #pragma debug scope 9 1
  54  0006              #line 54 "F:\Project\Code\UARTExampleCode\Init.c"
  54  0000              _UartHand .section 'code'
  54  0000              _UartHand proc
  54  0000  00              local _UartHand_2 db 1 dup(?)	; 0,1
  55  0000              #line 55 "F:\Project\Code\UARTExampleCode\Init.c"
  55  0000  3875        	snz [117].0
  55  0001  2800     R  	jmp _L9
  57  0002              #line 57 "F:\Project\Code\UARTExampleCode\Init.c"
  57  0002  3475        	clr [117].0
  58  0003              #line 58 "F:\Project\Code\UARTExampleCode\Init.c"
  58  0003  0700     E  	mov a,_TxdPoint2[0]
  58  0004  0080     R  	mov _UartHand_2[0],a
  58  0005  1080     R  	sz _UartHand_2[0]
  58  0006  2800     R  	jmp _LI1
  58  0007  2800     R  	jmp _L9
  58  0008              _LI1:
  60  0008              #line 60 "F:\Project\Code\UARTExampleCode\Init.c"
  60  0008  1500     R  	deca _UartHand_2[0]
  60  0009  0080     E  	mov _TxdPoint2[0],a
  61  000A              #line 61 "F:\Project\Code\UARTExampleCode\Init.c"
  61  000A  0700     E  	mov a,_TxdPoint[0]
  61  000B  0080     E  	mov rb,a
  61  000C  1400     E  	inca rb
  61  000D  0080     E  	mov ra,a
"File: Init.c        Assembler  Version HGASM0202      Page 4

  61  000E  0700     E  	mov a,ra
  61  000F  0080     E  	mov _TxdPoint[0],a
  61  0010  0F00     E  	mov a,low offset _TxdBuff
  61  0011  0300     E  	add a,rb
  61  0012  0083        	mov mp,a
  61  0013  0F00     E  	mov a,high offset _TxdBuff
  61  0014  1F01        	clr sbp
  61  0015  1381        	adcm a,sbp
  61  0016  2000     E  	call _Crom2Prom
  61  0017  00FA        	mov [122],a
  62  0018              #line 62 "F:\Project\Code\UARTExampleCode\Init.c"
  62  0018  0F04        	mov a,4
  62  0019  0200     E  	sub a,ra
  62  001A  3C0A        	sz c
  62  001B  2800     R  	jmp _L9
  64  001C              #line 64 "F:\Project\Code\UARTExampleCode\Init.c"
  64  001C  1F00     E  	clr _TxdPoint[0]
  64  001D              _L9:
  64  001D  0003        	ret
  64  001E              _UartHand endp
  64  001E              #line 64 "F:\Project\Code\UARTExampleCode\Init.c"
  64  001E              #pragma debug scope 1 1
  64  001E              public _UartPutChar
  64  001E              #pragma debug scope 10 1
  71  001E              #line 71 "F:\Project\Code\UARTExampleCode\Init.c"
  71  0000              _UartPutChar .section 'code'
  71  0000              _UartPutChar proc
  71  0000  0002[           local _UartPutChar_2 db 2 dup(?)	; 0,2
            00
            ]
  71  0000  0080     R  	mov _UartPutChar_2[0],a
  71  0001              #pragma debug variable 8 10 _UartPutChar_2+0 "value"
  72  0001              #line 72 "F:\Project\Code\UARTExampleCode\Init.c"
  72  0001  0700     E  	mov a,_TxdPoint2[0]
  72  0002  0080     R  	mov _UartPutChar_2[1],a
  72  0003  0F04        	mov a,4
  72  0004  0200     R  	sub a,_UartPutChar_2[1]
  72  0005  380A        	snz c
  72  0006  2800     R  	jmp _L16
  74  0007              #line 74 "F:\Project\Code\UARTExampleCode\Init.c"
  74  0007  1400     R  	inca _UartPutChar_2[1]
  74  0008  0080     E  	mov _TxdPoint2[0],a
  75  0009              #line 75 "F:\Project\Code\UARTExampleCode\Init.c"
  75  0009  0700     E  	mov a,_TxdCnt[0]
  75  000A  0080     E  	mov rb,a
  75  000B  1400     E  	inca rb
  75  000C  0080     E  	mov ra,a
  75  000D  0700     E  	mov a,ra
  75  000E  0080     E  	mov _TxdCnt[0],a
  75  000F  0F00     E  	mov a,low offset _TxdBuff
  75  0010  0300     E  	add a,rb
  75  0011  0083        	mov mp,a
  75  0012  0F00     E  	mov a,high offset _TxdBuff
  75  0013  1F01        	clr sbp
  75  0014  1381        	adcm a,sbp
  75  0015  0701        	mov a,sbp
  75  0016  0084        	mov bp,a
  75  0017  0700     R  	mov a,_UartPutChar_2[0]
  75  0018  0082        	mov ir,a
  76  0019              #line 76 "F:\Project\Code\UARTExampleCode\Init.c"
"File: Init.c        Assembler  Version HGASM0202      Page 5

  76  0019  0F04        	mov a,4
  76  001A  0200     E  	sub a,ra
  76  001B  3C0A        	sz c
  76  001C  2800     R  	jmp _L16
  78  001D              #line 78 "F:\Project\Code\UARTExampleCode\Init.c"
  78  001D  1F00     E  	clr _TxdCnt[0]
  78  001E              _L16:
  78  001E  0003        	ret
  78  001F              _UartPutChar endp
  78  001F              #line 78 "F:\Project\Code\UARTExampleCode\Init.c"
  78  001F              #pragma debug scope 1 1
  78  001F              ___smod equ [00bh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 43 1 [00bh] "__smod" 1
  78  001F              ___wdtc equ [00eh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 45 1 [00eh] "__wdtc" 1
  78  001F              ___intc3 equ [014h]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 47 1 [014h] "__intc3" 1
  78  001F              ___papu equ [01dh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 49 1 [01dh] "__papu" 1
  78  001F              ___pa equ [01eh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 51 1 [01eh] "__pa" 1
  78  001F              ___pac equ [01fh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 53 1 [01fh] "__pac" 1
  78  001F              ___pbps1 equ [03ch]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 55 1 [03ch] "__pbps1" 1
  78  001F              ___pbps2 equ [03dh]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 57 1 [03dh] "__pbps2" 1
  78  001F              ___usr equ [075h]
"File: Init.c        Assembler  Version HGASM0202      Page 6

  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 59 1 [075h] "__usr" 1
  78  001F              ___ucr1 equ [076h]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 61 1 [076h] "__ucr1" 1
  78  001F              ___ucr2 equ [077h]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 63 1 [077h] "__ucr2" 1
  78  001F              ___brg equ [078h]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 65 1 [078h] "__brg" 1
  78  001F              ___txr_rxr equ [07ah]
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug struct_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug union_end
  78  001F              #pragma debug variable 67 1 [07ah] "__txr_rxr" 1
  78  001F              
  78  001F              ; output external variables
  78  001F              extern _TxdCnt:byte
  78  001F              extern _TxdBuff:byte
  78  001F              extern _TxdPoint:byte
  78  001F              extern _TxdPoint2:byte
  78  001F              
  78  001F              ; 
  78  001F              ; Generated by holtek-gcc v3.12, Thu Jul 24 14:21:28 2014
  78  001F              ; Rebuild 68
  78  001F              ; end of file


        0 Errors, 0