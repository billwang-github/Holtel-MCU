"File: Main.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.12, Thu Jul 24 14:21:28 2014
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ; use 'tabrdc' instread of 'tabrd'
  13  0000              ;       
  14  0000              
  15  0000              #pragma translator "holtek-gcc 4.6.4" "3.12" "build 20130711"
  16  0000              ; Rebuild 68
  17  0000              
  18  0000              ir equ [2]
  19  0000              mp equ [3]
  20  0000              sbp equ [1]
  21  0000              acc equ [5]
  22  0000              bp equ [4]
  23  0000              tblp equ [7]
  24  0000              tbhp equ [9]
  25  0000              status equ [10]
  26  0000              c equ [10].0
  27  0000              ac equ [10].1
  28  0000              z equ [10].2
  29  0000              ov equ [10].3
  30  0000              intc equ [11]
  31  0000              
  32  0000              extern ra:byte
  33  0000              extern rb:byte
  34  0000              extern rc:byte
  35  0000              extern rd:byte
  36  0000              extern re:byte
  37  0000              extern rf:byte
  38  0000              extern rg:byte
  39  0000              extern rh:byte
  40  0000              extern _Crom2Prom:near
  41  0000              extern _Crom2PromNext:near
  42  0000              
  43  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  44  0000              @HCCINIT	.section 'data'
  45  0000              @HCCINIT0	.section 'data'
  46  0000              
  47  0000              #pragma debug scope 1 1
  48  0000              public _main
  49  0000              #pragma debug scope 2 1

  22  0000              #line 22 "F:\Project\Code\UARTExampleCode\Main.c"
  22  0000              IFDEF WITH_DEFAULT_STARTUP
  22  0000              extern _main_initial0:near
  22  0000              extern _main_startup:near
  22  0000              ENDIF
  22  0000              
  22  0000              ROMBANK 0 @start
  22  0000              @start .section com_l 'code'
  22  0000              _main_startup1:
"File: Main.c        Assembler  Version HGASM0202      Page 2

  22  0000              @start .section com_e 'code'
  22  0000  2800     R  	jmp _main
  22  0001              
  22  0000              _main .section 'code'
  22  0000              _main proc
  22  0000  0002[           local _main_2 db 2 dup(?)
            00
            ]
  22  0002              #pragma debug variable 12 2 _main_2+0 "i"
  24  0000              #line 24 "F:\Project\Code\UARTExampleCode\Main.c"
  24  0000  3411        	clr [17].0
  25  0001              #line 25 "F:\Project\Code\UARTExampleCode\Main.c"
  25  0001  2000     E  	call _SystemInit
  26  0002              #line 26 "F:\Project\Code\UARTExampleCode\Main.c"
  26  0002  3011        	set [17].0
  28  0003              #line 28 "F:\Project\Code\UARTExampleCode\Main.c"
  28  0003  0FAA        	mov a,170
  28  0004  0080     R  	mov _TxdData[0],a
  31  0005              #line 31 "F:\Project\Code\UARTExampleCode\Main.c"
  31  0005  1F00     R  	clr _main_2[0]
  31  0006  1F00     R  	clr _main_2[1]
  31  0007              _L2:
  31  0007              #line 31 "F:\Project\Code\UARTExampleCode\Main.c"
  31  0007  0FB7        	mov a,183
  31  0008  0200     R  	sub a,_main_2[0]
  31  0009  0F0B        	mov a,11
  31  000A  1200     R  	sbc a,_main_2[1]
  31  000B  380A        	snz c
  31  000C  2800     R  	jmp _L6
  31  000D              _L3:
  33  000D              #line 33 "F:\Project\Code\UARTExampleCode\Main.c"
  33  000D              ;# 33 "F:\Project\Code\UARTExampleCode\Main.c" 1
  33  000D  0001        	clr wdt
  34  000E              #line 34 "F:\Project\Code\UARTExampleCode\Main.c"
  34  000E  2000     E  	call _UartHand
  31  000F              #line 31 "F:\Project\Code\UARTExampleCode\Main.c"
  31  000F  1480     R  	inc _main_2[0]
  31  0010  3D0A        	sz z
  31  0011  1480     R  	inc _main_2[1]
  31  0012  2800     R  	jmp _L2
  31  0013              _L6:
  36  0013              #line 36 "F:\Project\Code\UARTExampleCode\Main.c"
  36  0013  0700     R  	mov a,_TxdData[0]
  36  0014  2000     E  	call _UartPutChar
  31  0015              #line 31 "F:\Project\Code\UARTExampleCode\Main.c"
  31  0015  1F00     R  	clr _main_2[0]
  31  0016  1F00     R  	clr _main_2[1]
  37  0017              #line 37 "F:\Project\Code\UARTExampleCode\Main.c"
  37  0017  2800     R  	jmp _L3
  37  0018  2800     R  	jmp $
  37  0019              _main endp
  37  0019              
  37  0019              @dummy endp
  37  0019              
  37  0019              #line 37 "F:\Project\Code\UARTExampleCode\Main.c"
  37  0019              #pragma debug scope 1 1
  19  0019              #line 19 "F:\Project\Code\UARTExampleCode\Main.c"
  19  0019              public _RxdData
  19  0000              @HCCINIT0 .section 'data'
  19  0000  00          _RxdData	db 0
"File: Main.c        Assembler  Version HGASM0202      Page 3

  19  0001              #pragma debug variable 8 1 _RxdData "RxdData"
  19  0001              
  19  0000              @HCCINIT .section 'data'
  18  0000              #line 18 "F:\Project\Code\UARTExampleCode\Main.c"
  18  0000              public _TxdData
  18  0001              @HCCINIT0 .section 'data'
  18  0001  00          _TxdData	db 0
  18  0002              #pragma debug variable 8 1 _TxdData "TxdData"
  18  0002              
  18  0000              @HCCINIT .section 'data'
  15  0000              #line 15 "F:\Project\Code\UARTExampleCode\Main.c"
  15  0000              public _Flag01
  15  0002              @HCCINIT0 .section 'data'
  15  0002  00          _Flag01	db 0
  15  0003              #pragma debug struct_end
  15  0003              #pragma debug struct_end
  15  0003              #pragma debug variable 42 1 _Flag01 "Flag01"
  15  0003              
  15  0000              @HCCINIT .section 'data'
  14  0000              #line 14 "F:\Project\Code\UARTExampleCode\Main.c"
  14  0000              public _RxdCnt
  14  0003              @HCCINIT0 .section 'data'
  14  0003  00          _RxdCnt	db 0
  14  0004              #pragma debug variable 8 1 _RxdCnt "RxdCnt"
  14  0004              
  14  0000              @HCCINIT .section 'data'
  13  0000              #line 13 "F:\Project\Code\UARTExampleCode\Main.c"
  13  0000              public _TxdCnt
  13  0004              @HCCINIT0 .section 'data'
  13  0004  00          _TxdCnt	db 0
  13  0005              #pragma debug variable 8 1 _TxdCnt "TxdCnt"
  13  0005              
  13  0000              @HCCINIT .section 'data'
  12  0000              #line 12 "F:\Project\Code\UARTExampleCode\Main.c"
  12  0000              public _TxdPoint2
  12  0005              @HCCINIT0 .section 'data'
  12  0005  00          _TxdPoint2	db 0
  12  0006              #pragma debug variable 8 1 _TxdPoint2 "TxdPoint2"
  12  0006              
  12  0000              @HCCINIT .section 'data'
  11  0000              #line 11 "F:\Project\Code\UARTExampleCode\Main.c"
  11  0000              public _TxdPoint
  11  0006              @HCCINIT0 .section 'data'
  11  0006  00          _TxdPoint	db 0
  11  0007              #pragma debug variable 8 1 _TxdPoint "TxdPoint"
  11  0007              
  11  0000              @HCCINIT .section 'data'
  10  0000              #line 10 "F:\Project\Code\UARTExampleCode\Main.c"
  10  0000              public _RxdBuff
  10  0007              @HCCINIT0 .section 'data'
  10  0007  0005[       _RxdBuff	db 5 dup(0)
            00
            ]
  10  000C              #pragma debug array 43 8 5 1
  10  000C              #pragma debug array 43 8 5 1
  10  000C              #pragma debug variable 43 1 _RxdBuff "RxdBuff"
  10  000C              
  10  0000              @HCCINIT .section 'data'
   9  0000              #line 9 "F:\Project\Code\UARTExampleCode\Main.c"
   9  0000              public _TxdBuff
"File: Main.c        Assembler  Version HGASM0202      Page 4

   9  000C              @HCCINIT0 .section 'data'
   9  000C  0005[       _TxdBuff	db 5 dup(0)
            00
            ]
   9  0011              #pragma debug variable 43 1 _TxdBuff "TxdBuff"
   9  0011              
   9  0000              @HCCINIT .section 'data'
   7  0000              #line 7 "F:\Project\Code\UARTExampleCode\Main.c"
   7  0000              public _Time1msCnt
   7  0011              @HCCINIT0 .section 'data'
   7  0011  00          _Time1msCnt	db 0
   7  0012              #pragma debug variable 8 1 _Time1msCnt "Time1msCnt"
   7  0012              
   7  0000              @HCCINIT .section 'data'
   6  0000              #line 6 "F:\Project\Code\UARTExampleCode\Main.c"
   6  0000              public _ChannelCnt
   6  0012              @HCCINIT0 .section 'data'
   6  0012  00          _ChannelCnt	db 0
   6  0013              #pragma debug variable 8 1 _ChannelCnt "ChannelCnt"
   6  0013              
   6  0000              @HCCINIT .section 'data'
   5  0000              #line 5 "F:\Project\Code\UARTExampleCode\Main.c"
   5  0000              public _AdData
   5  0013              @HCCINIT0 .section 'data'
   5  0013  0008[       _AdData	db 8 dup(0)
            00
            ]
   5  001B              #pragma debug array 44 12 4 1
   5  001B              #pragma debug array 44 12 4 1
   5  001B              #pragma debug variable 44 1 _AdData "AdData"
   5  001B              
   5  0000              @HCCINIT .section 'data'
   4  0000              #line 4 "F:\Project\Code\UARTExampleCode\Main.c"
   4  0000              public _TimeCnt
   4  001B              @HCCINIT0 .section 'data'
   4  001B  0002[       _TimeCnt	db 2 dup(0)
            00
            ]
   4  001D              #pragma debug variable 12 1 _TimeCnt "TimeCnt"
   4  001D              
   4  0000              @HCCINIT .section 'data'
   4  0000              ___intc0 equ [011h]
   4  0000              #pragma debug struct_end
   4  0000              #pragma debug struct_end
   4  0000              #pragma debug union_end
   4  0000              #pragma debug union_end
   4  0000              #pragma debug variable 46 1 [011h] "__intc0" 1
  22  0000              #line 22 "F:\Project\Code\UARTExampleCode\Main.c"
  22  0000              @code .section at 0 'code'
  22  0000  2800     R  	jmp _main_startup1
  22  0001              
  22  0001              extern _SystemInit:near
  22  0001              extern _UartHand:near
  22  0001              extern _UartPutChar:near
  22  0001              
  22  0001              ; 
  22  0001              ; Generated by holtek-gcc v3.12, Thu Jul 24 14:21:28 2014
  22  0001              ; Rebuild 68
  22  0001              ; end of file

"File: Main.c        Assembler  Version HGASM0202      Page 5


        0 Errors, 0