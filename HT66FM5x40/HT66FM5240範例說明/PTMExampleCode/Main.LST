"File: Main.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.12, Mon Jul 14 17:33:28 2014
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ; use 'tabrdc' instread of 'tabrd'
  13  0000              ;       
  14  0000              
  15  0000              #pragma translator "holtek-gcc 4.6.4" "3.12" "build 20130711"
  16  0000              ; Rebuild 68
  17  0000              
  18  0000              ir equ [2]
  19  0000              mp equ [3]
  20  0000              sbp equ [1]
  21  0000              acc equ [5]
  22  0000              bp equ [4]
  23  0000              tblp equ [7]
  24  0000              tbhp equ [9]
  25  0000              status equ [10]
  26  0000              c equ [10].0
  27  0000              ac equ [10].1
  28  0000              z equ [10].2
  29  0000              ov equ [10].3
  30  0000              intc equ [11]
  31  0000              
  32  0000              extern ra:byte
  33  0000              extern rb:byte
  34  0000              extern rc:byte
  35  0000              extern rd:byte
  36  0000              extern re:byte
  37  0000              extern rf:byte
  38  0000              extern rg:byte
  39  0000              extern rh:byte
  40  0000              extern _Crom2Prom:near
  41  0000              extern _Crom2PromNext:near
  42  0000              
  43  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  44  0000              @HCCINIT	.section 'data'
  45  0000              @HCCINIT0	.section 'data'
  46  0000              
  47  0000              #pragma debug scope 1 1
  48  0000              public _main
  49  0000              #pragma debug scope 2 1

  11  0000              #line 11 "F:\Project\Code\PTMExampleCode\Main.c"
  11  0000              IFDEF WITH_DEFAULT_STARTUP
  11  0000              extern _main_initial0:near
  11  0000              extern _main_startup:near
  11  0000              ENDIF
  11  0000              
  11  0000              ROMBANK 0 @start
  11  0000              @start .section com_l 'code'
  11  0000              _main_startup1:
"File: Main.c        Assembler  Version HGASM0202      Page 2

  11  0000              @start .section com_e 'code'
  11  0000  2800     R  	jmp _main
  11  0001              
  11  0000              _main .section 'code'
  11  0000              _main proc
  14  0000              #line 14 "F:\Project\Code\PTMExampleCode\Main.c"
  14  0000  3411        	clr [17].0
  15  0001              #line 15 "F:\Project\Code\PTMExampleCode\Main.c"
  15  0001  0FC8        	mov a,-56
  15  0002  0080     R  	mov _Duty[0],a
  15  0003  1F00     R  	clr _Duty[1]
  16  0004              #line 16 "F:\Project\Code\PTMExampleCode\Main.c"
  16  0004  1F00     R  	clr _Period[0]
  16  0005  0F05        	mov a,5
  16  0006  0080     R  	mov _Period[1],a
  17  0007              #line 17 "F:\Project\Code\PTMExampleCode\Main.c"
  17  0007  2000     E  	call _SystemInit
  18  0008              #line 18 "F:\Project\Code\PTMExampleCode\Main.c"
  18  0008  3011        	set [17].0
  20  0009              #line 20 "F:\Project\Code\PTMExampleCode\Main.c"
  20  0009  1F00     R  	clr _CatchCnt[0]
  20  000A  1F00     R  	clr _CatchCnt[1]
  21  000B              #line 21 "F:\Project\Code\PTMExampleCode\Main.c"
  21  000B  1F00     R  	clr _PrevCatchCnt[0]
  21  000C  1F00     R  	clr _PrevCatchCnt[1]
  22  000D              #line 22 "F:\Project\Code\PTMExampleCode\Main.c"
  22  000D  0FC8        	mov a,-56
  22  000E  0080     R  	mov _Duty[0],a
  22  000F  1F00     R  	clr _Duty[1]
  22  0010              _L4:
  11  0010              #line 11 "F:\Project\Code\PTMExampleCode\Main.c"
  11  0010  0FB8        	mov a,-72
  11  0011  0080     E  	mov rb,a
  11  0012  0F0B        	mov a,11
  11  0013  0080     E  	mov rc,a
  11  0014              _L3:
  28  0014              #line 28 "F:\Project\Code\PTMExampleCode\Main.c"
  28  0014              ;# 28 "F:\Project\Code\PTMExampleCode\Main.c" 1
  28  0014  0001        	clr wdt
  28  0015  0FFF        	mov a,255
  28  0016  0380     E  	addm a,rb
  28  0017  0FFF        	mov a,255
  28  0018  1380     E  	adcm a,rc
  26  0019              #line 26 "F:\Project\Code\PTMExampleCode\Main.c"
  26  0019  0700     E  	mov a,rb
  26  001A  0500     E  	or a,rc
  26  001B  390A        	snz z
  26  001C  2800     R  	jmp _L3
  30  001D              #line 30 "F:\Project\Code\PTMExampleCode\Main.c"
  30  001D  1F00     E  	clr _SetDuty_2[0]
  30  001E  0F01        	mov a,1
  30  001F  0080     E  	mov _SetDuty_2[1],a
  30  0020  2000     E  	call _SetDuty
  31  0021              #line 31 "F:\Project\Code\PTMExampleCode\Main.c"
  31  0021  0700     R  	mov a,_Period[0]
  31  0022  0080     E  	mov _Timer1_SetDuty_2[2],a
  31  0023  0700     R  	mov a,_Period[1]
  31  0024  0080     E  	mov _Timer1_SetDuty_2[3],a
  31  0025  0700     R  	mov a,_Duty[0]
  31  0026  0080     E  	mov _Timer1_SetDuty_2[0],a
"File: Main.c        Assembler  Version HGASM0202      Page 3

  31  0027  0700     R  	mov a,_Duty[1]
  31  0028  0080     E  	mov _Timer1_SetDuty_2[1],a
  31  0029  2000     E  	call _Timer1_SetDuty
  32  002A              #line 32 "F:\Project\Code\PTMExampleCode\Main.c"
  32  002A  2800     R  	jmp _L4
  32  002B  2800     R  	jmp $
  32  002C              _main endp
  32  002C              
  32  002C              @dummy endp
  32  002C              
  32  002C              #line 32 "F:\Project\Code\PTMExampleCode\Main.c"
  32  002C              #pragma debug scope 1 1
   8  002C              #line 8 "F:\Project\Code\PTMExampleCode\Main.c"
   8  002C              public _TimeCnt
   8  0000              @HCCINIT0 .section 'data'
   8  0000  0002[       _TimeCnt	db 2 dup(0)
            00
            ]
   8  0002              #pragma debug variable 12 1 _TimeCnt "TimeCnt"
   8  0002              
   8  0000              @HCCINIT .section 'data'
   7  0000              #line 7 "F:\Project\Code\PTMExampleCode\Main.c"
   7  0000              public _PrevCatchCnt
   7  0002              @HCCINIT0 .section 'data'
   7  0002  0002[       _PrevCatchCnt	db 2 dup(0)
            00
            ]
   7  0004              #pragma debug variable 12 1 _PrevCatchCnt "PrevCatchCnt"
   7  0004              
   7  0000              @HCCINIT .section 'data'
   6  0000              #line 6 "F:\Project\Code\PTMExampleCode\Main.c"
   6  0000              public _CatchCnt
   6  0004              @HCCINIT0 .section 'data'
   6  0004  0002[       _CatchCnt	db 2 dup(0)
            00
            ]
   6  0006              #pragma debug variable 12 1 _CatchCnt "CatchCnt"
   6  0006              
   6  0000              @HCCINIT .section 'data'
   5  0000              #line 5 "F:\Project\Code\PTMExampleCode\Main.c"
   5  0000              public _Period
   5  0006              @HCCINIT0 .section 'data'
   5  0006  0002[       _Period	db 2 dup(0)
            00
            ]
   5  0008              #pragma debug variable 12 1 _Period "Period"
   5  0008              
   5  0000              @HCCINIT .section 'data'
   4  0000              #line 4 "F:\Project\Code\PTMExampleCode\Main.c"
   4  0000              public _Duty
   4  0008              @HCCINIT0 .section 'data'
   4  0008  0002[       _Duty	db 2 dup(0)
            00
            ]
   4  000A              #pragma debug variable 12 1 _Duty "Duty"
   4  000A              
   4  0000              @HCCINIT .section 'data'
   4  0000              ___intc0 equ [011h]
   4  0000              #pragma debug struct_end
   4  0000              #pragma debug struct_end
"File: Main.c        Assembler  Version HGASM0202      Page 4

   4  0000              #pragma debug union_end
   4  0000              #pragma debug union_end
   4  0000              #pragma debug variable 43 1 [011h] "__intc0" 1
  11  0000              #line 11 "F:\Project\Code\PTMExampleCode\Main.c"
  11  0000              @code .section at 0 'code'
  11  0000  2800     R  	jmp _main_startup1
  11  0001              
  11  0001              extern _SystemInit:near
  11  0001              extern _SetDuty_2:byte
  11  0001              extern _SetDuty:near
  11  0001              extern _Timer1_SetDuty_2:byte
  11  0001              extern _Timer1_SetDuty:near
  11  0001              
  11  0001              ; 
  11  0001              ; Generated by holtek-gcc v3.12, Mon Jul 14 17:33:28 2014
  11  0001              ; Rebuild 68
  11  0001              ; end of file


        0 Errors, 0